<ng-container *ngrxLet="gameStatus$ as gameStatus">  
  <app-game-control-buttons [gameStatus]="gameStatus"></app-game-control-buttons>

  <ng-container *ngrxLet="gameLetters$ as letters">
    <div class="clr-row" *ngIf="letters.length">
      <div class="clr-col-4 clr-col-sm-3 clr-col-md" *ngFor="let letter of letters">
        <app-letter-card [letterInfo]="letter"></app-letter-card>
      </div>
    </div>
  </ng-container>

  <ng-container *ngIf="!gameStatus.started">
    <br />
    <div class="clr-row">
      <div class="clr-col center-elements">
        <button
          class="btn btn-primary"
          (click)="beginGame()">
          Start Game
        </button>
      </div>
    </div>
  </ng-container>

  <ng-container *ngIf="gameStatus.started && !gameStatus.ended">
    <div class="clr-row" *ngrxLet="currentWord$ as currentWord">
      <div class="clr-col">
        <h1 class="center-text">Current Word: {{currentWord | uppercase}}</h1>
      </div>
    </div>

    <div class="clr-row" *ngIf="timer$ | async as remainingTime">
      <div class="clr-col">
        <h2 class="center-text">Remaining Time: {{remainingTime}}</h2>
      </div>
    </div>
  </ng-container>

  <ng-container *ngIf="gameStatus.ended">
    <div class="clr-row">
      <div class="clr-col center-elements">
        <h1 class="center-text" *ngrxLet="remainingIndices$ as remaining">{{remaining.length ? 'Game Over' : 'You Won!'}}</h1>
      </div>
    </div>

    <div class="clr-row">
      <div class="clr-col center-elements">
        <button
          class="btn btn-primary"
          (click)="playAgain()">
          <clr-icon shape="sync"></clr-icon>
          Play Again
        </button>
      </div>
    </div>
  </ng-container>

</ng-container>
